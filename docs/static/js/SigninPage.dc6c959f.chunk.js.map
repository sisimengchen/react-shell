{"version":3,"sources":["webpack:///./src/agent/auth.js","webpack:///./src/components/waiting/index.jsx","webpack:///./src/pages/Signin/index.jsx"],"names":["login","data","arguments","length","undefined","request","post","url","then","setToken","token","User","get","register","Waiting","react_default","a","createElement","className","SigninPage","props","_this","_classCallCheck","this","_getPrototypeOf","call","_defineProperty","_assertThisInitialized","dispatch","type","payload","logout","state","accountid","password","Component","react","onClick","components_waiting","connect","_ref","global"],"mappings":"6LAIaA,EAAQ,eAACC,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,GAAR,OAAeG,IAAQC,KAAK,CAAEC,IAAK,aAAcN,SAAQO,KAAK,SAACP,GAElF,OADAQ,YAASR,EAAKS,OACPC,IAAKC,KAAI,MAGLC,EAAW,eAACZ,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,GAAR,OAAeG,IAAQC,KAAK,CAAEC,IAAK,gBAAiBN,SAAQO,KAAK,SAACP,GAExF,OADAQ,YAASR,EAAKS,OACPC,IAAKC,KAAI,MCEHE,UANC,kBACdC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,k3BCJEE,cACJ,SAAAA,EAAYC,GAAO,IAAAC,MAAA,mGAAAC,CAAAC,KAAAJ,KACjBI,OAAAC,EAAAL,GAAAM,KAAAF,KAAMH,GAANC,oDADiBK,EAAAC,IAAAN,IAAA,QAQX,YAENO,EADqBP,EAAKD,MAAlBQ,UACC,CAAEC,KAAM,QAASC,QAAS9B,QAVlB0B,EAAAC,IAAAN,IAAA,WAaR,YAETO,EADqBP,EAAKD,MAAlBQ,UACC,CAAEC,KAAM,WAAYC,QAASjB,QAfrBa,EAAAC,IAAAN,IAAA,SAkBV,YAEPO,EADqBP,EAAKD,MAAlBQ,UACC,CAAEC,KAAM,SAAUC,QAASC,aAlBpCV,EAAKW,MAAQ,CACXC,UAAW,GACXC,SAAU,IAJKb,yPADIc,uDAyBrB,OACEpB,EAAAC,EAAAC,cAACmB,EAAA,SAAD,KACErB,EAAAC,EAAAC,cAAA,UAAQoB,QAASd,KAAKvB,OAAtB,4BACAe,EAAAC,EAAAC,cAACqB,EAAD,4CAUOC,sBAJS,SAAAC,GAAA,MAAiB,CACvCC,OADsBD,EAAGC,SAIZF,CAAyBpB","file":"static/js/SigninPage.dc6c959f.chunk.js","sourcesContent":["import { setToken } from 'utils/token';\nimport { User } from 'utils/user';\nimport { request } from 'utils/request';\n\nexport const login = (data = {}) => request.post({ url: '/api/login', data }).then((data) => {\n  setToken(data.token);\n  return User.get(true);\n});\n\nexport const register = (data = {}) => request.post({ url: '/api/register', data }).then((data) => {\n  setToken(data.token);\n  return User.get(true);\n});\n\nexport const logout = () => request.post({ url: '/api/logout' }).then(() => {\n  setToken(null);\n});\n","/**\n * @file 等候组件\n * @author mengchen <sisimengchen@gmail.com>\n */\nimport React from 'react';\nimport './index.scss';\n\nconst Waiting = () => (\n  <div className=\"components-waiting\">\n    <span />\n  </div>\n);\n\nexport default Waiting;\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { login, register } from 'agent';\nimport Waiting from 'components/waiting';\n\nclass SigninPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      accountid: '',\n      password: ''\n    };\n  }\n\n  login = () => {\n    const { dispatch } = this.props;\n    dispatch({ type: 'LOGIN', payload: login() });\n  };\n\n  register = () => {\n    const { dispatch } = this.props;\n    dispatch({ type: 'REGISTER', payload: register() });\n  };\n\n  logout = () => {\n    const { dispatch } = this.props;\n    dispatch({ type: 'LOGOUT', payload: logout() });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <button onClick={this.login}>一键登录</button>\n        <Waiting />\n      </Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = ({ global }) => ({\n  global: global\n});\n\nexport default connect(mapStateToProps)(SigninPage);\n"],"sourceRoot":""}