{"version":3,"sources":["webpack:///./src/core/Exception/assets/403.svg","webpack:///./src/core/Exception/assets/404.svg","webpack:///./src/core/Exception/assets/500.svg","webpack:///./src/redux/defaultState.js","webpack:///./src/redux/reducers/currentUser.js","webpack:///./src/redux/reducers/index.js","webpack:///./src/redux/reducers/global.js","webpack:///./src/redux/middleware/promise.js","webpack:///./src/redux/store/index.js","webpack:///./src/components/Loading/index.jsx","webpack:///./src/core/options/routes.js","webpack:///./src/core/utils/history.js","webpack:///./src/core/Router/AuthorizedRoute.jsx","webpack:///./src/core/Router/index.jsx","webpack:///./src/app.jsx","webpack:///./src/index.js","webpack:///./src/core/Exception/config.js","webpack:///./src/core/Exception/index.jsx","webpack:///./src/pages/NoMatch/index.jsx","webpack:///./src/core/utils/token.js","webpack:///./src/utils/user/index.js","webpack:///./src/utils/request/index.js"],"names":["module","exports","__webpack_require__","p","defaultState","global","token","getToken","appInitComplete","loadding","currentUser","authority","combineReducers","state","arguments","length","undefined","action","type","_objectSpread","currentUser_objectSpread","payload","middleware","store","next","obj","_typeof","then","dispatch","subtype","res","console","log","catch","error","createLogger","createStore","rootReducer","applyMiddleware","apply","Loading","_ref","_ref$active","active","react_default","a","createElement","id","className","concat","getComponent","loader","loading","Instagram","BaseLayout","Loadable","e","bind","routes","path","title","layout","component","require","default","history","createHistory","createHashHistory","getUserConfirmation","message","callback","forceRefresh","listen","location","block","connect","_ref2","_ref$layout","Layout","Fragment","Component","_ref$authority","_ref$location","rest","_objectWithoutProperties","query","search","queryString","parse","Route","_extends","render","props","indexOf","react_document_title_default","Redirect","to","pathname","encodeURIComponent","href","CoreRouter","Router","Switch","map","route","index","Router_AuthorizedRoute","Router_extends","key","exact","App","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","User","get","react","src_components_Loading","core_Router","es","app_App","document","getElementById","config","403","img","desc","404","500","CoreException","_ref$type","actions","src","NoMatch","core_Exception","style","minHeight","height","d","__webpack_exports__","setToken","window","localStorage","getItem","_token","setItem","removeItem","userData","promise","hasLogin","url","force","options","request","report","unloginOpen","data","onSuccess","reset","getSync","_formate","isAuthority","denyAuthors","allowAuthors","strict","rolesMap","_this$rolesMap","denyLength","i","allowLength","j","logout","instance","axios","create","baseURL","withCredentials","timeout","headers","Accept","requestLocker","defaultOption","unkonwErrorRetry","requestfactory","axiosOptions","Error","Promise","reject","cache","Date","newAxiosOptions","params","response","_response$data","code","errorCode","isApiError","toLowerCase","isTimeout","_ref$data","_ref$options","_ref$axiosOptions","method","post","_ref2$data","_ref2$options","_ref2$axiosOptions","jsonstr","postForm","_ref3","_ref3$data","_ref3$options","_ref3$axiosOptions","formData","FormData","Object","keys","forEach","append","Content-Type","_ref4","_ref4$method","_ref4$data","_ref4$options","_ref4$axiosOptions"],"mappings":"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","file":"static/js/index.adcd68a2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/403.2dda86ad.svg\";","module.exports = __webpack_public_path__ + \"static/img/404.9ed13bbe.svg\";","module.exports = __webpack_public_path__ + \"static/img/500.990ae4d0.svg\";","import { getToken } from 'core/utils/token';\n\nexport default {\n  global: {\n    token: getToken(),\n    appInitComplete: false, // 当前应用是否已经初始化完成\n    loadding: true // 当前是否有异步请求处理\n  },\n  currentUser: {\n    authority: []\n  }\n};\n","import defaultState from 'redux/defaultState';\n\nexport default (state = defaultState.currentUser, action) => {\n  if (action.type === 'APP_LOAD') {\n    // app加载\n    return {\n      ...action.payload\n    };\n  }\n\n  if (action.type === 'LOGIN' || action.type === 'REGISTER') {\n    // 登录注册\n    return {\n      ...action.payload\n    };\n  }\n\n  if (action.type === 'LOGOUT') {\n    // 退出登录 清空token和currentUser\n    return {};\n  }\n\n  return state;\n};\n","import { combineReducers } from 'redux';\nimport global from './global';\nimport currentUser from './currentUser';\n\nexport default combineReducers({\n  global,\n  currentUser\n});\n","import defaultState from 'redux/defaultState';\n\nexport default (state = defaultState.global, action) => {\n  if (action.type === 'ASYNC_START') {\n    // 异步开始\n    return {\n      ...state,\n      loadding: true\n    };\n  }\n\n  if (action.type === 'ASYNC_END') {\n    // 异步结束\n    return {\n      ...state,\n      loadding: false\n    };\n  }\n\n  if (action.type === 'APP_LOAD') {\n    // app启动\n    return {\n      ...state,\n      appInitComplete: true\n    };\n  }\n\n  return state;\n};\n","// import { ASYNC_START, \"ASYNC_END\" } from 'constants';\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n\nexport const promiseMiddleware = store => next => (action) => {\n  if (isPromise(action.payload)) {\n    // 如果是Promise先发送一个异步开始动作\n    store.dispatch({ type: 'ASYNC_START', subtype: action.type });\n    action.payload\n      .then((res) => {\n        console.log('RESULT', res);\n        action.payload = res;\n        store.dispatch({ type: 'ASYNC_END', subtype: action.type });\n        store.dispatch(action);\n      })\n      .catch((error) => {\n        console.log('ERROR', error);\n        action.error = true;\n        action.payload = error;\n        store.dispatch({ type: 'ASYNC_END', subtype: action.type, error: true });\n        store.dispatch(action);\n      });\n  } else {\n    next(action);\n  }\n};\n","import { createStore, applyMiddleware } from 'redux';\nimport { createLogger } from 'redux-logger';\nimport rootReducer from 'redux/reducers';\n// import thunk from 'redux-thunk';\nimport { promiseMiddleware } from '../middleware';\n\nconst middleware = [promiseMiddleware, createLogger()];\n\nconst store = createStore(rootReducer, applyMiddleware(...middleware));\n\nexport default store;\n","/**\n * @file 加载组件\n * @author mengchen <sisimengchen@gmail.com>\n */\nimport React from 'react';\nimport './index.scss';\n\nconst Loading = ({ active = false }) => (\n  <div id=\"components-loading\">\n    <div className={`loading${active ? ' active' : ''}`} />\n  </div>\n);\n\nexport default Loading;\n","import Loadable from 'react-loadable';\nimport { Instagram } from 'react-content-loader';\n\nconst getComponent = loader => ({\n  loader: loader,\n  loading: Instagram\n});\n\nconst BaseLayout = Loadable(getComponent(() => import(/* webpackChunkName: \"BaseLayout\" */ 'layouts/BaseLayout')));\n\nexport const routes = [\n  {\n    path: '/',\n    title: '首页',\n    layout: BaseLayout,\n    component: Loadable(getComponent(() => import(/* webpackChunkName: \"HomePage\" */ 'pages/Home')))\n  },\n  {\n    path: '/test',\n    title: '测试页',\n    layout: BaseLayout,\n    component: Loadable(getComponent(() => import(/* webpackChunkName: \"TestPage\" */ 'pages/Test')))\n  },\n  {\n    path: '/login',\n    title: '登录页',\n    layout: BaseLayout,\n    component: Loadable(getComponent(() => import(/* webpackChunkName: \"LoginPage\" */ 'pages/Login')))\n  },\n  {\n    path: '*',\n    title: '抱歉，您访问的页面不存在！',\n    component: require('pages/NoMatch').default\n  }\n];\n","/**\n * @file history对象\n * @author mengchen <sisimengchen@gmail.com>\n */\nimport createBrowserHistory from 'history/createBrowserHistory';\nimport createHashHistory from 'history/createHashHistory';\nimport { historyMode } from 'core/options';\n\nconst createHistory = historyMode === 'Hash' ? createHashHistory : createBrowserHistory;\n\nexport const history = createHistory({\n  getUserConfirmation: (message, callback) => callback(true),\n  forceRefresh: false\n});\n\nconst unlisten = history.listen((location, action) => {\n  // console.log(`The current URL is ${location.pathname}${location.search}${location.hash}`);\n  // console.log(`The last navigation action was ${action}`);\n});\n\nconst unblock = history.block((location, action) => '测试文案');\n","/* eslint-disable no-unused-vars */\n/**\n * @file 用户权限校验路由组件\n * @author mengchen <sisimengchen@gmail.com>\n * @module components/Authorized/AuthorizedRoute\n */\nimport React, { Fragment } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport DocumentTitle from 'react-document-title';\nimport { connect } from 'react-redux';\nimport queryString from 'query-string';\n\nconst AuthorizedRoute = ({\n  layout: Layout = Fragment,\n  component: Component,\n  authority = [],\n  title,\n  currentUser,\n  location = {},\n  ...rest\n}) => {\n  currentUser.authority = currentUser.authority || [];\n  location.query = location.search ? queryString.parse(location.search) : {};\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (authority.length === 0 || currentUser.authority.indexOf(authority[0]) > -1) {\n          return (\n            <Layout>\n              {title && <DocumentTitle title={title} />}\n              <Component {...props} />\n            </Layout>\n          );\n        } else {\n          return (\n            <Redirect\n              to={{\n                pathname: '/login',\n                search: `?target=${encodeURIComponent(location.href)}`\n              }}\n            />\n          );\n        }\n      }}\n    />\n  );\n};\n\nconst mapStateToProps = ({ currentUser }) => ({\n  currentUser: currentUser\n});\n\nexport default connect(mapStateToProps)(AuthorizedRoute);\n","/* eslint-disable no-unused-vars */\n/**\n * @file 路由组件\n * @author mengchen <sisimengchen@gmail.com>\n */\nimport React from 'react';\nimport { Router, Switch, Route } from 'react-router-dom';\nimport { history } from 'core/utils/history';\nimport AuthorizedRoute from './AuthorizedRoute';\nimport { routes } from 'core/options';\n\nconst CoreRouter = () => (\n  <Router history={history}>\n    <Switch>\n      {routes.map((route = {}, index) => {\n        return <AuthorizedRoute key={index} exact {...route} />;\n      })}\n    </Switch>\n  </Router>\n);\n\nexport default CoreRouter;\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { User } from 'utils/user';\nimport Loading from 'components/Loading';\nimport CoreRouter from 'core/Router';\nimport CoreBoot from 'core/Boot';\n\nconst mapStateToProps = ({ global, currentUser }) => ({\n  global: global,\n  currentUser: currentUser\n});\n\n@connect(mapStateToProps)\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    const { dispatch } = this.props;\n    dispatch({ type: 'APP_LOAD', payload: User.get() });\n  }\n\n  render() {\n    const { global } = this.props;\n    return (\n      <Fragment>\n        <Loading active={global.loadding} />\n        <CoreRouter />\n        {/* <CoreBoot /> */}\n      </Fragment>\n    );\n  }\n}\n","/* eslint-disable no-unused-vars */\n// import '@babel/polyfill';\nimport './assets/styles/index.scss';\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from 'redux/store';\nimport App from './app.jsx';\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('app')\n);\n","const config = {\n  403: {\n    img: require('./assets/403.svg'),\n    title: '403',\n    desc: '抱歉，您无权访问该页面！'\n  },\n  404: {\n    img: require('./assets/404.svg'),\n    title: '404',\n    desc: '抱歉，您访问的页面不存在！'\n  },\n  500: {\n    img: require('./assets/500.svg'),\n    title: '500',\n    desc: '抱歉，服务器出错了！'\n  }\n};\n\nexport default config;\n","/**\n * @file 异常页面组件\n * @author mengchen <sisimengchen@gmail.com>\n */\nimport React from 'react';\nimport config from './config';\nimport './index.scss';\n\nconst CoreException = ({ type = '404', title, desc, img, actions, ...rest }) => (\n  <div id=\"core-exception\" {...rest}>\n    <div className=\"image-block\">\n      <img src={img || config[type].img} />\n    </div>\n    <div className=\"content-block\">\n      <h1>{title || config[type].title}</h1>\n      <div className=\"desc\">{desc || config[type].desc}</div>\n    </div>\n  </div>\n);\nexport default CoreException;\n","import React, { Fragment } from 'react';\nimport CoreException from 'core/Exception';\n\nconst NoMatch = function() {\n  return (\n    <Fragment>\n      <CoreException type=\"404\" style={{ minHeight: 500, height: '80%' }} />\n    </Fragment>\n  );\n};\n\nexport default NoMatch;\n","/**\n * @file 登录标识\n * @author mengchen <sisimengchen@gmail.com>\n */\n\nlet token = window.localStorage.getItem('token') || null;\n\nexport const setToken = (_token) => {\n  token = _token;\n  token ? window.localStorage.setItem('token', token) : window.localStorage.removeItem('token');\n};\n\nexport const getToken = () => token;\n","import { request } from 'utils/request';\n\nexport const User = {\n  userData: undefined,\n  promise: undefined,\n  hasLogin: false, // 只能证明用户在某段时间登陆成功过\n  url: '/api/user',\n  get: function(force = false, options = {}) {\n    if (!force && this.promise) {\n      return this.promise;\n    }\n    force && (this.promise = undefined);\n    if (!this.promise) {\n      this.promise = request\n        .get({\n          url: this.url,\n          options: {\n            report: true,\n            unloginOpen: false,\n            ...options\n          }\n        })\n        .then((data = {}) => this.onSuccess(data))\n        .catch((res) => {\n          this.reset();\n          throw res;\n        });\n    }\n    return this.promise;\n  },\n  getSync: function() {\n    return this.userData;\n  },\n  onSuccess: function(data) {\n    this.userData = this._formate(data);\n    this.hasLogin = true;\n    return data;\n  },\n  _formate: function(data) {\n    return data;\n  },\n  reset: function() {\n    this.userData = undefined;\n    this.hasLogin = false;\n  },\n  isAuthority: function(denyAuthors = [], allowAuthors = [], strict = true) {\n    if (!this.rolesMap) {\n      return !strict;\n    }\n    const { rolesMap = {} } = this;\n    const denyLength = denyAuthors.length;\n    if (denyLength) {\n      for (let i = 0; i < denyLength; i++) {\n        // 只要有一个属于则拒绝\n        if (rolesMap[`${denyAuthors[i]}`]) {\n          return false;\n        }\n      }\n    }\n    const allowLength = allowAuthors.length;\n    if (allowLength) {\n      for (let j = 0; j < allowLength; j++) {\n        // 只要有一个属于则同意\n        if (rolesMap[`${allowAuthors[j]}`]) {\n          return true;\n        }\n      }\n    }\n    return !strict;\n  },\n  logout: function() {\n    window.location.href = '/logout';\n  }\n};\n","import axios from 'axios';\n// import history from './history';\n// import { setToken } from 'utils/setToken';\n\nexport function getBaseUrl() {\n  // 开发环境\n  if (process.env.NODE_ENV === 'development' || process.env.TARGET === 'githubpages') {\n    return 'https://easy-mock.com/mock/5b04275f5fa2b20fbca4a45b';\n  }\n  return '';\n}\n\n// https://github.com/axios/axios\nconst instance = axios.create({\n  baseURL: getBaseUrl(),\n  withCredentials: true,\n  timeout: 10000,\n  headers: {\n    Accept: '*/*'\n  }\n});\n\nconst requestLocker = {};\n\nconst defaultOption = {\n  loading: true,\n  report: true,\n  unloginOpen: true,\n  unkonwErrorRetry: 2\n};\n\nconst requestfactory = function (url, axiosOptions = {}, options = {}) {\n  options = {\n    ...defaultOption,\n    ...options\n  };\n  if (options.key && requestLocker[`${options.key}`]) {\n    const error = new Error(`${options.key} key is working`);\n    return Promise.reject(error);\n  }\n  options.key && (requestLocker[`${options.key}`] = true);\n  const cache = +new Date();\n  // options.loading && Loading.start(cache);\n  const newAxiosOptions = { ...axiosOptions, ...{ url } };\n  newAxiosOptions.params = {\n    ...newAxiosOptions.params,\n    cache\n  };\n  return instance\n    .request(newAxiosOptions)\n    .then((response = {}) => {\n      // options.loading && Loading.end(cache)\n      options.key && (requestLocker[`${options.key}`] = false);\n      const { data = {} } = response;\n      if (data.code == 200) {\n        return data.data;\n      }\n      let error;\n      if (data.code == 401) {\n        error = new Error(data.message || '您未登录或者登陆已经失效，请重新登录');\n      } else if (data.code == 403) {\n        error = new Error(data.message || '操作权限不足，提权请联系商家老板或超管');\n      } else {\n        error = new Error(data.message || '系统繁忙请稍后重试');\n      }\n      error.errorCode = data.code;\n      error.data = data.data;\n      error.response = response;\n      error.isApiError = true;\n      throw error;\n    })\n    .catch((error) => {\n      const message = error.message && error.message.toLowerCase();\n      if (message.indexOf('network error') > -1) {\n        const { unkonwErrorRetry } = options;\n        if (unkonwErrorRetry > 0) {\n          return requestfactory(url, axiosOptions, {\n            ...options,\n            unkonwErrorRetry: unkonwErrorRetry - 1\n          });\n        }\n      }\n      if (message.indexOf('timeout') > -1) {\n        error.isTimeout = true;\n      }\n      // options.loading && Loading.end(cache)\n      options.key && (requestLocker[`${options.key}`] = false);\n      throw error;\n    });\n}\n\nexport const request = {\n  get: function({ url, data = {}, options = {}, axiosOptions = {} }) {\n    const newAxiosOptions = {\n      method: 'get',\n      params: data,\n      ...axiosOptions\n    };\n    return requestfactory(url, newAxiosOptions, options);\n  },\n  post: function({ url, data = {}, options = {}, axiosOptions = {} }) {\n    const headers = {};\n    if (data.jsonstr) {\n      headers['Content-Type'] = 'application/x-www-form-urlencoded';\n      delete data.jsonstr;\n    } else {\n      headers['Content-Type'] = 'application/json';\n    }\n    const newAxiosOptions = {\n      method: 'post',\n      headers,\n      data,\n      ...axiosOptions\n    };\n    return requestfactory(url, newAxiosOptions, options);\n  },\n  postForm: function({ url, data = {}, options = {}, axiosOptions = {} }) {\n    const formData = new FormData();\n    Object.keys(data).forEach((key) => {\n      formData.append(key, data[key]);\n    });\n    const newAxiosOptions = {\n      method: 'post',\n      headers: { 'Content-Type': 'multipart/form-data' },\n      data: formData,\n      ...axiosOptions\n    };\n    return requestfactory(url, newAxiosOptions, options);\n  },\n  request: function({ url, method = 'get', data = {}, options = {}, axiosOptions = {} }) {\n    // 先暂时只支持get和post\n    if (method.toLowerCase() === 'get') {\n      return this.get({ url, data, options, axiosOptions });\n    } else {\n      return this.post({ url, data, options, axiosOptions });\n    }\n  }\n};\n"],"sourceRoot":""}