(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{156:function(t,e,n){},160:function(t,e,n){t.exports=n.p+"static/img/403.2dda86ad.svg"},161:function(t,e,n){t.exports=n.p+"static/img/404.9ed13bbe.svg"},162:function(t,e,n){t.exports=n.p+"static/img/500.990ae4d0.svg"},163:function(t,e,n){},176:function(t,e,n){},177:function(t,e,n){"use strict";n.r(e);n(96);var r=n(0),o=n.n(r),a=n(84),i=n(25),c=n(18),u=n(87),l=(n(20),n(11),n(24),n(66)),s={global:{token:Object(l.a)(),appInitComplete:!1,loadding:!0},currentUser:{authority:[]}};function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){d(t,e,n[e])})}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=Object(c.c)({global:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.global,e=arguments.length>1?arguments[1]:void 0;return"ASYNC_START"===e.type?f({},t,{loadding:!0}):"ASYNC_END"===e.type?f({},t,{loadding:!1}):"APP_LOAD"===e.type?f({},t,{appInitComplete:!0}):t},currentUser:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.currentUser,e=arguments.length>1?arguments[1]:void 0;return"APP_LOAD"===e.type?y({},e.payload):"LOGIN"===e.type||"REGISTER"===e.type?y({},e.payload):"LOGOUT"===e.type?{}:t}});n(56),n(57);function b(t){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var v=[function(t){return function(e){return function(n){var r;!(r=n.payload)||"object"!==b(r)&&"function"!==typeof r||"function"!==typeof r.then?e(n):(t.dispatch({type:"ASYNC_START",subtype:n.type}),n.payload.then(function(e){console.log("RESULT",e),n.payload=e,t.dispatch({type:"ASYNC_END",subtype:n.type}),t.dispatch(n)}).catch(function(e){console.log("ERROR",e),n.error=!0,n.payload=e,t.dispatch({type:"ASYNC_END",subtype:n.type,error:!0}),t.dispatch(n)}))}}},Object(u.createLogger)()],h=Object(c.d)(m,c.a.apply(void 0,v)),g=(n(94),n(71)),O=(n(156),function(t){var e=t.active,n=void 0!==e&&e;return o.a.createElement("div",{id:"components-loading"},o.a.createElement("div",{className:"loading".concat(n?" active":"")}))}),w=(n(50),n(180)),j=n(182),E=(n(89),n(90)),S=n.n(E),k=n(31),P=n.n(k),x=n(91),C=function(t){return{loader:t,loading:x.a}},_=P()(C(function(){return n.e(0).then(n.bind(null,185))})),D=[{path:"/",title:"\u9996\u9875",layout:_,component:P()(C(function(){return n.e(1).then(n.bind(null,186))}))},{path:"/test",title:"\u6d4b\u8bd5\u9875",layout:_,component:P()(C(function(){return n.e(3).then(n.bind(null,187))}))},{path:"/login",title:"\u767b\u5f55\u9875",layout:_,component:P()(C(function(){return n.e(2).then(n.bind(null,188))}))},{path:"*",title:"\u62b1\u6b49\uff0c\u60a8\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728\uff01",component:n(178).default}],A=(0,S.a)({getUserConfirmation:function(t,e){return e(!0)},forceRefresh:!1}),R=(A.listen(function(t,e){}),A.block(function(t,e){return"\u6d4b\u8bd5\u6587\u6848"}),n(164),n(181)),U=n(179),L=n(92),N=n.n(L),T=n(93),I=n.n(T);function F(){return(F=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Y(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var q=Object(i.b)(function(t){return{currentUser:t.currentUser}})(function(t){var e=t.layout,n=void 0===e?r.Fragment:e,a=t.component,i=t.authority,c=void 0===i?[]:i,u=t.title,l=t.currentUser,s=t.location,f=void 0===s?{}:s,p=Y(t,["layout","component","authority","title","currentUser","location"]);return l.authority=l.authority||[],f.query=f.search?I.a.parse(f.search):{},o.a.createElement(R.a,F({},p,{render:function(t){return 0===c.length||l.authority.indexOf(c[0])>-1?o.a.createElement(n,null,u&&o.a.createElement(N.a,{title:u}),o.a.createElement(a,t)):o.a.createElement(U.a,{to:{pathname:"/login",search:"?target=".concat(encodeURIComponent(f.href))}})}}))});function G(){return(G=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var M,J=function(){return o.a.createElement(w.a,{history:A},o.a.createElement(j.a,null,D.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return o.a.createElement(q,G({key:e,exact:!0},t))})))};n(176);function B(t){return(B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t,e){return!e||"object"!==B(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var V=Object(i.b)(function(t){return{global:t.global,currentUser:t.currentUser}})(M=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=z(this,K(e).call(this,t))).state={},n}var n,a,i;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,r["Component"]),n=e,(a=[{key:"componentDidMount",value:function(){(0,this.props.dispatch)({type:"APP_LOAD",payload:g.a.get()})}},{key:"render",value:function(){var t=this.props.global;return o.a.createElement(r.Fragment,null,o.a.createElement(O,{active:t.loadding}),o.a.createElement(J,null))}}])&&H(n.prototype,a),i&&H(n,i),e}())||M;Object(a.render)(o.a.createElement(i.a,{store:h},o.a.createElement(V,null)),document.getElementById("app"))},178:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=(n(50),n(20),n(11),n(24),{403:{img:n(160),title:"403",desc:"\u62b1\u6b49\uff0c\u60a8\u65e0\u6743\u8bbf\u95ee\u8be5\u9875\u9762\uff01"},404:{img:n(161),title:"404",desc:"\u62b1\u6b49\uff0c\u60a8\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728\uff01"},500:{img:n(162),title:"500",desc:"\u62b1\u6b49\uff0c\u670d\u52a1\u5668\u51fa\u9519\u4e86\uff01"}});n(163);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var u=function(t){var e=t.type,n=void 0===e?"404":e,r=t.title,u=t.desc,l=t.img,s=(t.actions,c(t,["type","title","desc","img","actions"]));return o.a.createElement("div",i({id:"core-exception"},s),o.a.createElement("div",{className:"image-block"},o.a.createElement("img",{src:l||a[n].img})),o.a.createElement("div",{className:"content-block"},o.a.createElement("h1",null,r||a[n].title),o.a.createElement("div",{className:"desc"},u||a[n].desc)))};e.default=function(){return o.a.createElement(r.Fragment,null,o.a.createElement(u,{type:"404",style:{minHeight:500,height:"80%"}}))}},66:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=window.localStorage.getItem("token")||null,o=function(t){(r=t)?window.localStorage.setItem("token",r):window.localStorage.removeItem("token")},a=function(){return r}},71:function(t,e,n){"use strict";n.d(e,"a",function(){return i});n(20),n(11),n(24);var r=n(72);function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i={userData:void 0,promise:void 0,hasLogin:!1,url:"/api/user",get:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!e&&this.promise?this.promise:(e&&(this.promise=void 0),this.promise||(this.promise=r.a.get({url:this.url,options:o({report:!0,unloginOpen:!1},n)}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.onSuccess(e)}).catch(function(e){throw t.reset(),e})),this.promise)},getSync:function(){return this.userData},onSuccess:function(t){return this.userData=this._formate(t),this.hasLogin=!0,t},_formate:function(t){return t},reset:function(){this.userData=void 0,this.hasLogin=!1},isAuthority:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.rolesMap)return!n;var r=this.rolesMap,o=void 0===r?{}:r,a=t.length;if(a)for(var i=0;i<a;i++)if(o["".concat(t[i])])return!1;var c=e.length;if(c)for(var u=0;u<c;u++)if(o["".concat(e[u])])return!0;return!n},logout:function(){window.location.href="/logout"}}},72:function(t,e,n){"use strict";n.d(e,"a",function(){return s});n(11),n(24),n(20),n(122);var r=n(88);function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n.n(r).a.create({baseURL:"https://easy-mock.com/mock/5b04275f5fa2b20fbca4a45b",withCredentials:!0,timeout:1e4,headers:{Accept:"*/*"}}),c={},u={loading:!0,report:!0,unloginOpen:!0,unkonwErrorRetry:2},l=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((r=o({},u,r)).key&&c["".concat(r.key)]){var a=new Error("".concat(r.key," key is working"));return Promise.reject(a)}r.key&&(c["".concat(r.key)]=!0);var l=+new Date,s=o({},n,{url:e});return s.params=o({},s.params,{cache:l}),i.request(s).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.key&&(c["".concat(r.key)]=!1);var e,n=t.data,o=void 0===n?{}:n;if(200==o.code)return o.data;throw(e=401==o.code?new Error(o.message||"\u60a8\u672a\u767b\u5f55\u6216\u8005\u767b\u9646\u5df2\u7ecf\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"):403==o.code?new Error(o.message||"\u64cd\u4f5c\u6743\u9650\u4e0d\u8db3\uff0c\u63d0\u6743\u8bf7\u8054\u7cfb\u5546\u5bb6\u8001\u677f\u6216\u8d85\u7ba1"):new Error(o.message||"\u7cfb\u7edf\u7e41\u5fd9\u8bf7\u7a0d\u540e\u91cd\u8bd5")).errorCode=o.code,e.data=o.data,e.response=t,e.isApiError=!0,e}).catch(function(a){var i=a.message&&a.message.toLowerCase();if(i.indexOf("network error")>-1){var u=r.unkonwErrorRetry;if(u>0)return t(e,n,o({},r,{unkonwErrorRetry:u-1}))}throw i.indexOf("timeout")>-1&&(a.isTimeout=!0),r.key&&(c["".concat(r.key)]=!1),a})},s={get:function(t){var e=t.url,n=t.data,r=void 0===n?{}:n,a=t.options,i=void 0===a?{}:a,c=t.axiosOptions,u=o({method:"get",params:r},void 0===c?{}:c);return l(e,u,i)},post:function(t){var e=t.url,n=t.data,r=void 0===n?{}:n,a=t.options,i=void 0===a?{}:a,c=t.axiosOptions,u=void 0===c?{}:c,s={};r.jsonstr?(s["Content-Type"]="application/x-www-form-urlencoded",delete r.jsonstr):s["Content-Type"]="application/json";var f=o({method:"post",headers:s,data:r},u);return l(e,f,i)},postForm:function(t){var e=t.url,n=t.data,r=void 0===n?{}:n,a=t.options,i=void 0===a?{}:a,c=t.axiosOptions,u=void 0===c?{}:c,s=new FormData;Object.keys(r).forEach(function(t){s.append(t,r[t])});var f=o({method:"post",headers:{"Content-Type":"multipart/form-data"},data:s},u);return l(e,f,i)},request:function(t){var e=t.url,n=t.method,r=void 0===n?"get":n,o=t.data,a=void 0===o?{}:o,i=t.options,c=void 0===i?{}:i,u=t.axiosOptions,l=void 0===u?{}:u;return"get"===r.toLowerCase()?this.get({url:e,data:a,options:c,axiosOptions:l}):this.post({url:e,data:a,options:c,axiosOptions:l})}}},96:function(t,e,n){}},[[177,6,5,7]]]);
//# sourceMappingURL=index.adcd68a2.chunk.js.map